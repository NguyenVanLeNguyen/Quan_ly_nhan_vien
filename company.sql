PRAGMA foreign_keys = ON;

CREATE TABLE DEPARTMENT(
NAME CHAR(50) NOT NULL,
ID CHAR(20) PRIMARY KEY NOT NULL
);

CREATE TABLE INSTITUTE(
NAME CHAR(50) NOT NULL,
ID CHAR(20) PRIMARY KEY NOT NULL,
ID_DEPARTMENT CHAR(20) NOT NULL,
FOREIGN KEY (ID_DEPARTMENT) REFERENCES DEPARTMENT(ID)
);

CREATE TABLE EMPLOYEE(
NAME CHAR(50) NOT NULL,
ID CHAR(20) PRIMARY KEY NOT NULL,
ID_INSTITUTE CHAR(20) NOT NULL,
BIRTHDAY DATE,
SEX BOOLEAN,
NATIONALITY CHAR(50),
PHONENUMBER CHAR(15),
IDCARD CHAR(15),
URL_IMAGE BLOB,
FOREIGN KEY (ID_INSTITUTE) REFERENCES INSTITUTE(ID)
);

CREATE TABLE ACOUNT(
USER_NAME CHAR(20) PRIMARY KEY NOT NULL,
PASSWORD CHAR(20) NOT NULL
);

CREATE TABLE IMPACT(
ID CHAR(20) PRIMARY KEY NOT NULL,
ID_EMPLOYEE CHAR(20),
TYPE BOOLEAN,
COUSES CHAR(200),
CONTENT CHAR(200),
FOREIGN KEY (ID_EMPLOYEE) REFERENCES EMPLOYEE(ID)
);


CREATE TABLE ABILITY(
ID_EMPLOYEE CHAR(20),
EDUCATIONLEVEL CHAR(20),
CERTIFICATE CHAR(100),
FOREIGN KEY (ID_EMPLOYEE) REFERENCES EMPLOYEE(ID)
);


CREATE TABLE CONTRACT(
ID CHAR(20) PRIMARY KEY NOT NULL,
ID_EMPLOYEE CHAR(20),
START DATE,
INVALID DATE,
FOREIGN KEY (ID_EMPLOYEE) REFERENCES EMPLOYEE(ID)
);


CREATE TABLE POSITION(
ID_EMPLOYEE CHAR(20) PRIMARY KEY NOT NULL,
POSITION CHAR(20),
ALLOWANCE BIGINT,
TITLE CHAR(20),
FOREIGN KEY (ID_EMPLOYEE) REFERENCES EMPLOYEE(ID)
);

CREATE TABLE SALARY(
TITLE CHAR(50) PRIMARY KEY NOT NULL,
SALARY INT
);

CREATE TABLE WARNING(
CONTENT CHAR(255)
);

CREATE TABLE HISTORY(
TIME CHAR(50),
CONTENT CHAR(50)
);

CREATE TABLE SALARYINFO(
ID_EMPLOYEE CHAR(20) PRIMARY KEY NOT NULL,
NAME CHAR(50),
TITLE CHAR(50),
SALARY INT,
DAYOFMONTH CHAR(3),
WORKDAYS CHAR(3),
RESULT INT
);
INSERT INTO DEPARTMENT (NAME,ID)
VALUES ('TT Bao Duong Thiet Bi HAN','D1');

INSERT INTO DEPARTMENT (NAME,ID)
VALUES ('TT Dieu Hanh Bao Duong','D2');

INSERT INTO INSTITUTE (NAME,ID,ID_DEPARTMENT)
VALUES ('Doi 1','D1T1','D1');

INSERT INTO INSTITUTE (NAME,ID,ID_DEPARTMENT)
VALUES ('Doi 2','D1T2','D1');

INSERT INTO INSTITUTE (NAME,ID,ID_DEPARTMENT)
VALUES ('Doi 1','D2T1','D2');

INSERT INTO INSTITUTE (NAME,ID,ID_DEPARTMENT)
VALUES ('phong ke hoach','D2T2','D2');

INSERT INTO EMPLOYEE(NAME,ID,ID_INSTITUTE,BIRTHDAY,SEX,NATIONALITY,PHONENUMBER,IDCARD,URL_IMAGE)
VALUES('Nguyen Van A','D1T1E1','D1T1','1990-02-14',1,'Viet Nam','0913113114','122289412','');

INSERT INTO EMPLOYEE(NAME,ID,ID_INSTITUTE,BIRTHDAY,SEX,NATIONALITY,PHONENUMBER,IDCARD,URL_IMAGE)
VALUES('Le Van B','D1T2E1','D1T2','1974-05-12',1,'Viet Nam','0913113114','122287456','');

INSERT INTO IMPACT(ID,ID_EMPLOYEE,TYPE,COUSES,CONTENT)
VALUES('0001E','D1T1E1',1,'khong ro','khong ro');
INSERT INTO IMPACT(ID,ID_EMPLOYEE,TYPE,COUSES,CONTENT)
VALUES('0002E','D1T1E1',1,'khong ro','khong ro');
INSERT INTO IMPACT(ID,ID_EMPLOYEE,TYPE,COUSES,CONTENT)
VALUES('0003E','D1T1E1',1,'khong ro','khong ro');

INSERT INTO IMPACT(ID,ID_EMPLOYEE,TYPE,COUSES,CONTENT)
VALUES('0011E','D1T2E1',0,'khong ro','khong ro');
INSERT INTO IMPACT(ID,ID_EMPLOYEE,TYPE,COUSES,CONTENT)
VALUES('0012E','D1T2E1',0,'khong ro','khong ro');

INSERT INTO ABILITY(ID_EMPLOYEE,EDUCATIONLEVEL,CERTIFICATE)
VALUES ('D1T1E1','Dai Hoc','Bang Cu Nhan');
INSERT INTO ABILITY(ID_EMPLOYEE,EDUCATIONLEVEL,CERTIFICATE)
VALUES ('D1T2E1','Dai Hoc','Khong co bang');

INSERT INTO CONTRACT(ID,ID_EMPLOYEE,START,INVALID)
VALUES ('0001','D1T1E1','2016-09-23','2018-09-23');
INSERT INTO CONTRACT(ID,ID_EMPLOYEE,START,INVALID)
VALUES ('0011','D1T2E1','2016-09-23','2018-09-23');

INSERT INTO POSITION(ID_EMPLOYEE,POSITION,ALLOWANCE,TITLE)
VALUES ('D1T1E1','Nhan Vien',1900,'Ky Su');

INSERT INTO POSITION(ID_EMPLOYEE,POSITION,ALLOWANCE,TITLE)
VALUES ('D1T2E1','Nhan Vien',1900,'Ky Su');

INSERT INTO SALARY(TITLE,SALARY)
VALUES ('Ky Thuat Vien',4500000000);

INSERT INTO SALARY(TITLE,SALARY)
VALUES ('Chuyen Gia',10200000000);

INSERT INTO SALARY(TITLE,SALARY)
VALUES ('Chuyen Vien',5400000000);

INSERT INTO SALARY(TITLE,SALARY)
VALUES ('Ky Su',1000000);

INSERT INTO SALARYINFO(ID_EMPLOYEE,NAME,TITLE,SALARY,DAYOFMONTH,WORKDAYS,RESULT) 
VALUES ('123','456','Ky Su',100000,'30','25',0);

INSERT INTO HISTORY(TIME,CONTENT)
VALUES ('qwerty','123456');

INSERT INTO ACOUNT(USER_NAME,PASSWORD)
VALUES ('TaiKhoan_1','12345');